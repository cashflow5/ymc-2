<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.belle.yitiansystem.merchant.dao.mapper.MerchantSupplierExpandMapper" >
  <resultMap id="BaseResultMap" type="com.yougou.merchant.api.supplier.vo.MerchantSupplierExpand" >
    <!--
      WARNING - @yougougenerated
      This element is automatically generated by YouGou MyBatis Generator, do not modify.
    -->
    <id column="id" property="id" jdbcType="CHAR" />
    <result column="merchant_code" property="merchantCode" jdbcType="VARCHAR" />
    <result column="safe_stock_quantity" property="safeStockQuantity" jdbcType="INTEGER" />
    <result column="yg_contact_user_id" property="ygContactUserId" jdbcType="VARCHAR" />
    <result column="contract_no" property="contractNo" jdbcType="VARCHAR" />
    <result column="uptate_time" property="uptateTime" jdbcType="VARCHAR" />
    <result column="remark" property="remark" jdbcType="VARCHAR" />
    <result column="mark_remaining_days" property="markRemainingDays" jdbcType="INTEGER" />
    <result column="contract_remaining_days" property="contractRemainingDays" jdbcType="INTEGER" />
    <result column="business_remaining_days" property="businessRemainingDays" jdbcType="INTEGER" />
    <result column="institutional_remaining_days" property="institutionalRemainingDays" jdbcType="INTEGER" />
    <result column="delete_flag" property="deleteFlag" jdbcType="INTEGER" />
    <result column="business_range" property="businessRange" jdbcType="VARCHAR" />
    <result column="business_validity_start" property="businessValidityStart" jdbcType="DATE" />
    <result column="business_validity_end" property="businessValidityEnd" jdbcType="DATE" />
    <result column="register_province" property="registerProvince" jdbcType="VARCHAR" />
    <result column="register_city" property="registerCity" jdbcType="VARCHAR" />
    <result column="register_area" property="registerArea" jdbcType="VARCHAR" />
    <result column="register_details" property="registerDetails" jdbcType="VARCHAR" />
    <result column="institutional_validity_start" property="institutionalValidityStart" jdbcType="DATE" />
    <result column="institutional_validity_end" property="institutionalValidityEnd" jdbcType="DATE" />
    <result column="bank_local_province" property="bankLocalProvince" jdbcType="VARCHAR" />
    <result column="bank_local_city" property="bankLocalCity" jdbcType="VARCHAR" />
    <result column="bank_local_area" property="bankLocalArea" jdbcType="VARCHAR" />
    <result column="supplier_id" property="supplierId" jdbcType="VARCHAR" />
    <result column="is_old" property="isOld" jdbcType="VARCHAR" />
    <result column="max_coupon_amount" property="maxCouponAmount" jdbcType="INTEGER" />
  </resultMap>
  
    <resultMap id="merchantUserMapper" type="com.yougou.merchant.api.supplier.vo.MerchantUser">
    	<result column="id" property="id" jdbcType="VARCHAR" />
        <result column="merchant_code" property="merchantCode" jdbcType="VARCHAR" />
        <result column="user_name" property="userName" jdbcType="VARCHAR" />
        <result column="login_name" property="loginName" jdbcType="VARCHAR" />
        <result column="password" property="password" jdbcType="VARCHAR" />
        <result column="mobile_code" property="mobileCode" jdbcType="VARCHAR" />
        <result column="creater" property="creater" jdbcType="VARCHAR" />
        <result column="create_time" property="createTime" jdbcType="VARCHAR" />
        <result column="status" property="status" jdbcType="INTEGER" />
        <result column="remark" property="remark" jdbcType="VARCHAR" />
        <result column="is_administrator" property="isAdministrator" jdbcType="INTEGER" />
        <result column="delete_flag" property="deleteFlag" jdbcType="INTEGER" />
        <result column="is_yougou_admin" property="isYougouAdmin" jdbcType="INTEGER" />
        <result column="email" property="email" jdbcType="VARCHAR" />
        <result column="emailstatus" property="emailstatus" jdbcType="INTEGER" />
        <result column="supplier" property="merchantName" jdbcType="VARCHAR" />
    </resultMap>
    
  <sql id="Query_Where_Clause" >
    <!--
      WARNING - @yougougenerated
      This element is automatically generated by YouGou MyBatis Generator, do not modify.
    -->
    <where >
      <foreach collection="oredCriteria" item="criteria" separator="or" >
        <if test="criteria.valid" >
          <trim prefix="(" suffix=")" prefixOverrides="and" >
            <foreach collection="criteria.criteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Query_Where_Clause" >
    <!--
      WARNING - @yougougenerated
      This element is automatically generated by YouGou MyBatis Generator, do not modify.
    -->
    <where >
      <foreach collection="example.oredCriteria" item="criteria" separator="or" >
        <if test="criteria.valid" >
          <trim prefix="(" suffix=")" prefixOverrides="and" >
            <foreach collection="criteria.criteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @yougougenerated
      This element is automatically generated by YouGou MyBatis Generator, do not modify.
    -->
    id, merchant_code, safe_stock_quantity, yg_contact_user_id, contract_no, uptate_time, 
    remark, mark_remaining_days, contract_remaining_days, business_remaining_days, institutional_remaining_days, 
    delete_flag, business_range, business_validity_start, business_validity_end, register_province, 
    register_city, register_area, register_details, institutional_validity_start, institutional_validity_end, 
    bank_local_province, bank_local_city, bank_local_area,  supplier_id,is_old,max_coupon_amount
  </sql>
  <select id="selectByQuery" resultMap="BaseResultMap" parameterType="com.yougou.merchant.api.supplier.vo.MerchantSupplierExpandQuery" >
    <!--
      WARNING - @yougougenerated
      This element is automatically generated by YouGou MyBatis Generator, do not modify.
    -->
    select
    <if test="distinct" >
      distinct
    </if>
    <include refid="Base_Column_List" />
    from tbl_merchant_supplier_expand
    <if test="_parameter != null" >
      <include refid="Query_Where_Clause" />
    </if>
    <if test="orderByClause != null" >
      order by ${orderByClause}
    </if>
    <foreach collection="oredCriteria" item="criteria" >
      <if test="criteria.valid" >
        <foreach collection="criteria.criteria" item="criterion" >
          <if test="criterion.limitValue" >
            limit ${criterion.value},${criterion.secondValue}
          </if>
        </foreach>
      </if>
    </foreach>
  </select>
 
  <select id="selectBySupplierId" resultMap="BaseResultMap" parameterType="java.lang.String" >
    select 
    <include refid="Base_Column_List" />
    from tbl_merchant_supplier_expand
    where supplier_id = #{supplierId,jdbcType=VARCHAR}
  </select>
  
   <select id="selectByMerchantCode" resultMap="BaseResultMap" parameterType="java.lang.String" >
    select 
    <include refid="Base_Column_List" />
    from tbl_merchant_supplier_expand
    where merchant_code = #{merchantCode,jdbcType=VARCHAR}
  </select>

  <delete id="deleteByPrimaryKey" parameterType="java.lang.String" >
    <!--
      WARNING - @yougougenerated
      This element is automatically generated by YouGou MyBatis Generator, do not modify.
    -->
    delete from tbl_merchant_supplier_expand
    where id = #{id,jdbcType=CHAR}
  </delete>
  <delete id="deleteByQuery" parameterType="com.yougou.merchant.api.supplier.vo.MerchantSupplierExpandQuery" >
    <!--
      WARNING - @yougougenerated
      This element is automatically generated by YouGou MyBatis Generator, do not modify.
    -->
    delete from tbl_merchant_supplier_expand
    <if test="_parameter != null" >
      <include refid="Query_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="com.yougou.merchant.api.supplier.vo.MerchantSupplierExpand" >
    <!--
      WARNING - @yougougenerated
      This element is automatically generated by YouGou MyBatis Generator, do not modify.
    -->
    insert into tbl_merchant_supplier_expand (id, merchant_code, safe_stock_quantity, 
      yg_contact_user_id, contract_no, uptate_time, 
      remark, mark_remaining_days, contract_remaining_days, 
      business_remaining_days, institutional_remaining_days, 
      delete_flag, business_range, business_validity_start, 
      business_validity_end, register_province, 
      register_city, register_area, register_details, 
      institutional_validity_start, institutional_validity_end, 
      bank_local_province, bank_local_city, bank_local_area, 
        supplier_id,is_old,max_coupon_amount)
    values (#{id,jdbcType=CHAR}, #{merchantCode,jdbcType=VARCHAR}, #{safeStockQuantity,jdbcType=INTEGER}, 
      #{ygContactUserId,jdbcType=VARCHAR}, #{contractNo,jdbcType=VARCHAR}, #{uptateTime,jdbcType=VARCHAR}, 
      #{remark,jdbcType=VARCHAR}, #{markRemainingDays,jdbcType=INTEGER}, #{contractRemainingDays,jdbcType=INTEGER}, 
      #{businessRemainingDays,jdbcType=INTEGER}, #{institutionalRemainingDays,jdbcType=INTEGER}, 
      #{deleteFlag,jdbcType=INTEGER}, #{businessRange,jdbcType=VARCHAR}, #{businessValidityStart,jdbcType=VARCHAR}, 
      #{businessValidityEnd,jdbcType=VARCHAR}, #{registerProvince,jdbcType=VARCHAR}, 
      #{registerCity,jdbcType=VARCHAR}, #{registerArea,jdbcType=VARCHAR}, #{registerDetails,jdbcType=VARCHAR}, 
      #{institutionalValidityStart,jdbcType=VARCHAR}, #{institutionalValidityEnd,jdbcType=VARCHAR}, 
      #{bankLocalProvince,jdbcType=VARCHAR}, #{bankLocalCity,jdbcType=VARCHAR}, #{bankLocalArea,jdbcType=VARCHAR}, 
     #{supplierId,jdbcType=VARCHAR}, #{isOld,jdbcType=CHAR},#{maxCouponAmount,jdbcType=INTEGER})
  </insert>
  <insert id="insertSelective" parameterType="com.yougou.merchant.api.supplier.vo.MerchantSupplierExpand" >
    <!--
      WARNING - @yougougenerated
      This element is automatically generated by YouGou MyBatis Generator, do not modify.
    -->
    insert into tbl_merchant_supplier_expand
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        id,
      </if>
      <if test="merchantCode != null" >
        merchant_code,
      </if>
      <if test="safeStockQuantity != null" >
        safe_stock_quantity,
      </if>
      <if test="ygContactUserId != null" >
        yg_contact_user_id,
      </if>
      <if test="contractNo != null" >
        contract_no,
      </if>
      <if test="uptateTime != null" >
        uptate_time,
      </if>
      <if test="remark != null" >
        remark,
      </if>
      <if test="markRemainingDays != null" >
        mark_remaining_days,
      </if>
      <if test="contractRemainingDays != null" >
        contract_remaining_days,
      </if>
      <if test="businessRemainingDays != null" >
        business_remaining_days,
      </if>
      <if test="institutionalRemainingDays != null" >
        institutional_remaining_days,
      </if>
      <if test="deleteFlag != null" >
        delete_flag,
      </if>
      <if test="businessRange != null" >
        business_range,
      </if>
      <if test="businessValidityStart != null" >
        business_validity_start,
      </if>
      <if test="businessValidityEnd != null" >
        business_validity_end,
      </if>
      <if test="registerProvince != null" >
        register_province,
      </if>
      <if test="registerCity != null" >
        register_city,
      </if>
      <if test="registerArea != null" >
        register_area,
      </if>
      <if test="registerDetails != null" >
        register_details,
      </if>
      <if test="institutionalValidityStart != null" >
        institutional_validity_start,
      </if>
      <if test="institutionalValidityEnd != null" >
        institutional_validity_end,
      </if>
      <if test="bankLocalProvince != null" >
        bank_local_province,
      </if>
      <if test="bankLocalCity != null" >
        bank_local_city,
      </if>
      <if test="bankLocalArea != null" >
        bank_local_area,
      </if>
      <if test="supplierId != null" >
        supplier_id,
      </if>
      <if test="isOld != null" >
        is_old,
      </if>
      <if test="maxCouponAmount != null" >
        max_coupon_amount,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=CHAR},
      </if>
      <if test="merchantCode != null" >
        #{merchantCode,jdbcType=VARCHAR},
      </if>
      <if test="safeStockQuantity != null" >
        #{safeStockQuantity,jdbcType=INTEGER},
      </if>
      <if test="ygContactUserId != null" >
        #{ygContactUserId,jdbcType=VARCHAR},
      </if>
      <if test="contractNo != null" >
        #{contractNo,jdbcType=VARCHAR},
      </if>
      <if test="uptateTime != null" >
        #{uptateTime,jdbcType=VARCHAR},
      </if>
      <if test="remark != null" >
        #{remark,jdbcType=VARCHAR},
      </if>
      <if test="markRemainingDays != null" >
        #{markRemainingDays,jdbcType=INTEGER},
      </if>
      <if test="contractRemainingDays != null" >
        #{contractRemainingDays,jdbcType=INTEGER},
      </if>
      <if test="businessRemainingDays != null" >
        #{businessRemainingDays,jdbcType=INTEGER},
      </if>
      <if test="institutionalRemainingDays != null" >
        #{institutionalRemainingDays,jdbcType=INTEGER},
      </if>
      <if test="deleteFlag != null" >
        #{deleteFlag,jdbcType=INTEGER},
      </if>
      <if test="businessRange != null" >
        #{businessRange,jdbcType=VARCHAR},
      </if>
      <if test="businessValidityStart != null" >
        #{businessValidityStart,jdbcType=VARCHAR},
      </if>
      <if test="businessValidityEnd != null" >
        #{businessValidityEnd,jdbcType=VARCHAR},
      </if>
      <if test="registerProvince != null" >
        #{registerProvince,jdbcType=VARCHAR},
      </if>
      <if test="registerCity != null" >
        #{registerCity,jdbcType=VARCHAR},
      </if>
      <if test="registerArea != null" >
        #{registerArea,jdbcType=VARCHAR},
      </if>
      <if test="registerDetails != null" >
        #{registerDetails,jdbcType=VARCHAR},
      </if>
      <if test="institutionalValidityStart != null" >
        #{institutionalValidityStart,jdbcType=VARCHAR},
      </if>
      <if test="institutionalValidityEnd != null" >
        #{institutionalValidityEnd,jdbcType=VARCHAR},
      </if>
      <if test="bankLocalProvince != null" >
        #{bankLocalProvince,jdbcType=VARCHAR},
      </if>
      <if test="bankLocalCity != null" >
        #{bankLocalCity,jdbcType=VARCHAR},
      </if>
      <if test="bankLocalArea != null" >
        #{bankLocalArea,jdbcType=VARCHAR},
      </if>
      <if test="supplierId != null" >
        #{supplierId,jdbcType=VARCHAR},
      </if>
      <if test="isOld != null" >
        #{isOld,jdbcType=CHAR},
      </if>
       <if test="maxCouponAmount != null" >
         #{maxCouponAmount,jdbcType=INTEGER},
      </if>
    </trim>
  </insert>
  <select id="countByQuery" parameterType="com.yougou.merchant.api.supplier.vo.MerchantSupplierExpandQuery" resultType="java.lang.Integer" >
    <!--
      WARNING - @yougougenerated
      This element is automatically generated by YouGou MyBatis Generator, do not modify.
    -->
    select count(*) from tbl_merchant_supplier_expand
    <if test="_parameter != null" >
      <include refid="Query_Where_Clause" />
    </if>
  </select>
  <update id="updateByQuerySelective" parameterType="map" >
    <!--
      WARNING - @yougougenerated
      This element is automatically generated by YouGou MyBatis Generator, do not modify.
    -->
    update tbl_merchant_supplier_expand
    <set >
      <if test="record.id != null" >
        id = #{record.id,jdbcType=CHAR},
      </if>
      <if test="record.merchantCode != null" >
        merchant_code = #{record.merchantCode,jdbcType=VARCHAR},
      </if>
      <if test="record.safeStockQuantity != null" >
        safe_stock_quantity = #{record.safeStockQuantity,jdbcType=INTEGER},
      </if>
      <if test="record.ygContactUserId != null" >
        yg_contact_user_id = #{record.ygContactUserId,jdbcType=VARCHAR},
      </if>
      <if test="record.contractNo != null" >
        contract_no = #{record.contractNo,jdbcType=VARCHAR},
      </if>
      <if test="record.uptateTime != null" >
        uptate_time = #{record.uptateTime,jdbcType=VARCHAR},
      </if>
      <if test="record.remark != null" >
        remark = #{record.remark,jdbcType=VARCHAR},
      </if>
      <if test="record.markRemainingDays != null" >
        mark_remaining_days = #{record.markRemainingDays,jdbcType=INTEGER},
      </if>
      <if test="record.contractRemainingDays != null" >
        contract_remaining_days = #{record.contractRemainingDays,jdbcType=INTEGER},
      </if>
      <if test="record.businessRemainingDays != null" >
        business_remaining_days = #{record.businessRemainingDays,jdbcType=INTEGER},
      </if>
      <if test="record.institutionalRemainingDays != null" >
        institutional_remaining_days = #{record.institutionalRemainingDays,jdbcType=INTEGER},
      </if>
      <if test="record.deleteFlag != null" >
        delete_flag = #{record.deleteFlag,jdbcType=INTEGER},
      </if>
      <if test="record.businessRange != null" >
        business_range = #{record.businessRange,jdbcType=VARCHAR},
      </if>
      <if test="record.businessValidityStart != null" >
        business_validity_start = #{record.businessValidityStart,jdbcType=VARCHAR},
      </if>
      <if test="record.businessValidityEnd != null" >
        business_validity_end = #{record.businessValidityEnd,jdbcType=VARCHAR},
      </if>
      <if test="record.registerProvince != null" >
        register_province = #{record.registerProvince,jdbcType=VARCHAR},
      </if>
      <if test="record.registerCity != null" >
        register_city = #{record.registerCity,jdbcType=VARCHAR},
      </if>
      <if test="record.registerArea != null" >
        register_area = #{record.registerArea,jdbcType=VARCHAR},
      </if>
      <if test="record.registerDetails != null" >
        register_details = #{record.registerDetails,jdbcType=VARCHAR},
      </if>
      <if test="record.institutionalValidityStart != null" >
        institutional_validity_start = #{record.institutionalValidityStart,jdbcType=VARCHAR},
      </if>
      <if test="record.institutionalValidityEnd != null" >
        institutional_validity_end = #{record.institutionalValidityEnd,jdbcType=VARCHAR},
      </if>
      <if test="record.bankLocalProvince != null" >
        bank_local_province = #{record.bankLocalProvince,jdbcType=VARCHAR},
      </if>
      <if test="record.bankLocalCity != null" >
        bank_local_city = #{record.bankLocalCity,jdbcType=VARCHAR},
      </if>
      <if test="record.bankLocalArea != null" >
        bank_local_area = #{record.bankLocalArea,jdbcType=VARCHAR},
      </if>
      <if test="record.supplierId != null" >
        supplier_id = #{record.supplierId,jdbcType=VARCHAR},
      </if>
      <if test="record.isOld != null" >
        is_old = #{record.isOld,jdbcType=CHAR},
      </if>
       <if test="record.maxCouponAmount != null" >
        max_coupon_amount = #{record.maxCouponAmount,jdbcType=INTEGER},
      </if>
    </set>
    <if test="_parameter != null" >
      <include refid="Update_By_Query_Where_Clause" />
    </if>
  </update>
  <update id="updateByQuery" parameterType="map" >
    <!--
      WARNING - @yougougenerated
      This element is automatically generated by YouGou MyBatis Generator, do not modify.
    -->
    update tbl_merchant_supplier_expand
    set id = #{record.id,jdbcType=CHAR},
      merchant_code = #{record.merchantCode,jdbcType=VARCHAR},
      safe_stock_quantity = #{record.safeStockQuantity,jdbcType=INTEGER},
      yg_contact_user_id = #{record.ygContactUserId,jdbcType=VARCHAR},
      contract_no = #{record.contractNo,jdbcType=VARCHAR},
      uptate_time = #{record.uptateTime,jdbcType=VARCHAR},
      remark = #{record.remark,jdbcType=VARCHAR},
      mark_remaining_days = #{record.markRemainingDays,jdbcType=INTEGER},
      contract_remaining_days = #{record.contractRemainingDays,jdbcType=INTEGER},
      business_remaining_days = #{record.businessRemainingDays,jdbcType=INTEGER},
      institutional_remaining_days = #{record.institutionalRemainingDays,jdbcType=INTEGER},
      delete_flag = #{record.deleteFlag,jdbcType=INTEGER},
      business_range = #{record.businessRange,jdbcType=VARCHAR},
      business_validity_start = #{record.businessValidityStart,jdbcType=VARCHAR},
      business_validity_end = #{record.businessValidityEnd,jdbcType=VARCHAR},
      register_province = #{record.registerProvince,jdbcType=VARCHAR},
      register_city = #{record.registerCity,jdbcType=VARCHAR},
      register_area = #{record.registerArea,jdbcType=VARCHAR},
      register_details = #{record.registerDetails,jdbcType=VARCHAR},
      institutional_validity_start = #{record.institutionalValidityStart,jdbcType=VARCHAR},
      institutional_validity_end = #{record.institutionalValidityEnd,jdbcType=VARCHAR},
      bank_local_province = #{record.bankLocalProvince,jdbcType=VARCHAR},
      bank_local_city = #{record.bankLocalCity,jdbcType=VARCHAR},
      bank_local_area = #{record.bankLocalArea,jdbcType=VARCHAR},
      supplier_id = #{record.supplierId,jdbcType=VARCHAR},
      is_old = #{record.isOld,jdbcType=CHAR},
      max_coupon_amount = #{record.maxCouponAmount,jdbcType=INTEGER}
    <if test="_parameter != null" >
      <include refid="Update_By_Query_Where_Clause" />
    </if>
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="com.yougou.merchant.api.supplier.vo.MerchantSupplierExpand" >
    <!--
      WARNING - @yougougenerated
      This element is automatically generated by YouGou MyBatis Generator, do not modify.
    -->
    update tbl_merchant_supplier_expand
    <set >
      <if test="merchantCode != null" >
        merchant_code = #{merchantCode,jdbcType=VARCHAR},
      </if>
      <if test="safeStockQuantity != null" >
        safe_stock_quantity = #{safeStockQuantity,jdbcType=INTEGER},
      </if>
      <if test="ygContactUserId != null" >
        yg_contact_user_id = #{ygContactUserId,jdbcType=VARCHAR},
      </if>
      <if test="contractNo != null" >
        contract_no = #{contractNo,jdbcType=VARCHAR},
      </if>
      <if test="uptateTime != null" >
        uptate_time = #{uptateTime,jdbcType=VARCHAR},
      </if>
      <if test="remark != null" >
        remark = #{remark,jdbcType=VARCHAR},
      </if>
      <if test="markRemainingDays != null" >
        mark_remaining_days = #{markRemainingDays,jdbcType=INTEGER},
      </if>
      <if test="contractRemainingDays != null" >
        contract_remaining_days = #{contractRemainingDays,jdbcType=INTEGER},
      </if>
      <if test="businessRemainingDays != null" >
        business_remaining_days = #{businessRemainingDays,jdbcType=INTEGER},
      </if>
      <if test="institutionalRemainingDays != null" >
        institutional_remaining_days = #{institutionalRemainingDays,jdbcType=INTEGER},
      </if>
      <if test="deleteFlag != null" >
        delete_flag = #{deleteFlag,jdbcType=INTEGER},
      </if>
      <if test="businessRange != null" >
        business_range = #{businessRange,jdbcType=VARCHAR},
      </if>
      <if test="businessValidityStart != null" >
        business_validity_start = #{businessValidityStart,jdbcType=VARCHAR},
      </if>
      <if test="businessValidityEnd != null" >
        business_validity_end = #{businessValidityEnd,jdbcType=VARCHAR},
      </if>
      <if test="registerProvince != null" >
        register_province = #{registerProvince,jdbcType=VARCHAR},
      </if>
      <if test="registerCity != null" >
        register_city = #{registerCity,jdbcType=VARCHAR},
      </if>
      <if test="registerArea != null" >
        register_area = #{registerArea,jdbcType=VARCHAR},
      </if>
      <if test="registerDetails != null" >
        register_details = #{registerDetails,jdbcType=VARCHAR},
      </if>
      <if test="institutionalValidityStart != null" >
        institutional_validity_start = #{institutionalValidityStart,jdbcType=VARCHAR},
      </if>
      <if test="institutionalValidityEnd != null" >
        institutional_validity_end = #{institutionalValidityEnd,jdbcType=VARCHAR},
      </if>
      <if test="bankLocalProvince != null" >
        bank_local_province = #{bankLocalProvince,jdbcType=VARCHAR},
      </if>
      <if test="bankLocalCity != null" >
        bank_local_city = #{bankLocalCity,jdbcType=VARCHAR},
      </if>
      <if test="bankLocalArea != null" >
        bank_local_area = #{bankLocalArea,jdbcType=VARCHAR},
      </if>
      <if test="supplierId != null" >
        supplier_id = #{supplierId,jdbcType=VARCHAR},
      </if>
      <if test="isOld != null" >
        is_old = #{isOld,jdbcType=CHAR},
      </if>
       <if test="maxCouponAmount != null" >
        max_coupon_amount = #{maxCouponAmount,jdbcType=INTEGER},
      </if>
    </set>
    where id = #{id,jdbcType=CHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.yougou.merchant.api.supplier.vo.MerchantSupplierExpand" >
    <!--
      WARNING - @yougougenerated
      This element is automatically generated by YouGou MyBatis Generator, do not modify.
    -->
    update tbl_merchant_supplier_expand
    set merchant_code = #{merchantCode,jdbcType=VARCHAR},
      safe_stock_quantity = #{safeStockQuantity,jdbcType=INTEGER},
      yg_contact_user_id = #{ygContactUserId,jdbcType=VARCHAR},
      contract_no = #{contractNo,jdbcType=VARCHAR},
      uptate_time = #{uptateTime,jdbcType=VARCHAR},
      remark = #{remark,jdbcType=VARCHAR},
      mark_remaining_days = #{markRemainingDays,jdbcType=INTEGER},
      contract_remaining_days = #{contractRemainingDays,jdbcType=INTEGER},
      business_remaining_days = #{businessRemainingDays,jdbcType=INTEGER},
      institutional_remaining_days = #{institutionalRemainingDays,jdbcType=INTEGER},
      delete_flag = #{deleteFlag,jdbcType=INTEGER},
      business_range = #{businessRange,jdbcType=VARCHAR},
      business_validity_start = #{businessValidityStart,jdbcType=VARCHAR},
      business_validity_end = #{businessValidityEnd,jdbcType=VARCHAR},
      register_province = #{registerProvince,jdbcType=VARCHAR},
      register_city = #{registerCity,jdbcType=VARCHAR},
      register_area = #{registerArea,jdbcType=VARCHAR},
      register_details = #{registerDetails,jdbcType=VARCHAR},
      institutional_validity_start = #{institutionalValidityStart,jdbcType=VARCHAR},
      institutional_validity_end = #{institutionalValidityEnd,jdbcType=VARCHAR},
      bank_local_province = #{bankLocalProvince,jdbcType=VARCHAR},
      bank_local_city = #{bankLocalCity,jdbcType=VARCHAR},
      bank_local_area = #{bankLocalArea,jdbcType=VARCHAR},
      supplier_id = #{supplierId,jdbcType=VARCHAR},
      is_old = #{isOld,jdbcType=CHAR},
      max_coupon_amount = #{maxCouponAmount,jdbcType=INTEGER}
    where id = #{id,jdbcType=CHAR}
  </update>
  
  	<select id="querySupplierSpOut" parameterType="map" resultType="map">
		select DISTINCT t3.supplier_code as supplierCode,t3.supplier from
		tbl_merchant_supplier_expand t1
		LEFT JOIN tbl_supplier_yg_contact t2 on (t1.yg_contact_user_id=t2.user_id)
		RIGHT JOIN tbl_sp_supplier t3 on t3.supplier_code=t1.merchant_code
		where t3.delete_flag=1
		<if test="userId != null and userId != ''">
			and (t2.user_id!=#{userId} or t2.user_id is null)
		</if>
	</select>

	<select id="querySupplierSpIn" parameterType="map" resultType="map">
		select DISTINCT t3.supplier_code as supplierCode,t3.supplier from
		tbl_merchant_supplier_expand t1
		LEFT JOIN tbl_supplier_yg_contact t2 on (t1.yg_contact_user_id=t2.user_id)
		RIGHT JOIN tbl_sp_supplier t3 on t3.supplier_code=t1.merchant_code
		where t3.delete_flag=1
		<if test="userId != null and userId != ''">
			and t2.user_id=#{userId}
		</if>
	</select>
	
	 <!-- 商家账户 -->
    
    <select id="queryMerchantUserList" resultMap="merchantUserMapper" parameterType="com.yougou.merchant.api.supplier.vo.MerchantUser">
    	SELECT
			t.id,
			t.merchant_code,
			s.supplier,
			t.user_name,
			t.login_name,
			t.PASSWORD,
			t.mobile_code,
			t.creater,
			t.create_time,
			t.STATUS,
			t.remark,
			t.is_administrator,
			t.delete_flag,
			t.is_yougou_admin,
			t.email,
			t.emailstatus
		FROM
			tbl_merchant_user t LEFT JOIN tbl_sp_supplier s ON (t.merchant_code = s.supplier_code)
    	WHERE t.delete_flag = 1
    	<include refid="queryUser_Where"/>
    	order by t.create_time desc
    </select>
    
    <select id="queryMerchantUserCount" resultType="int" parameterType="com.yougou.merchant.api.supplier.vo.MerchantUser">
    	SELECT
			count(*)
		FROM
			tbl_merchant_user t
    	WHERE t.delete_flag = 1
    	<include refid="queryUser_Where"/>
    </select>
    
    <sql id="queryUser_Where">
    	<if test="id != null and id != ''">
    		AND t.id = #{id, jdbcType=VARCHAR}
    	</if>
    	<if test="loginName != null and loginName != ''">
    		AND t.login_name like CONCAT('%', '${loginName}', '%')
    	</if>
    	<if test="merchantCode != null and merchantCode != ''">
    		AND t.merchant_code like CONCAT('${merchantCode}', '%')
    	</if>
    	<if test="userName != null and userName != ''">
    		AND t.user_name like CONCAT('%', '${userName}', '%')
    	</if>
    	<if test="isAdministrator != null">
    		AND t.is_administrator = #{isAdministrator, jdbcType=INTEGER}
    	</if>
    	<if test="isYougouAdmin != null">
    		AND t.is_yougou_admin = #{isYougouAdmin, jdbcType=INTEGER}
    	</if>
    </sql>
    
    <select id="selectMerchantUserById" resultMap="merchantUserMapper" parameterType="java.lang.String">
    	
    select	t.id,
			t.merchant_code,
			t.user_name,
			t.login_name,
			t.PASSWORD,
			t.mobile_code,
			t.creater,
			t.create_time,
			t.STATUS,
			t.remark,
			t.is_administrator,
			t.delete_flag,
			t.is_yougou_admin,
			t.email,
			t.emailstatus
		FROM
			tbl_merchant_user t 
    	WHERE  t.id=#{id}
    
    </select>
    
    <insert id="insertMerchantUser" parameterType="com.yougou.merchant.api.supplier.vo.MerchantUser">
    	INSERT INTO tbl_merchant_user (
			id,
			merchant_code,
			user_name,
			login_name,
			PASSWORD,
			mobile_code,
			creater,
			create_time,
			STATUS,
			remark,
			delete_flag,
			<if test="isYougouAdmin != null">
				is_yougou_admin,	
			</if>
			is_administrator,
			<if test="emailstatus != null">
				emailstatus,
			</if>
			email
		)
		VALUES
			(
			#{id},
			#{merchantCode},
			#{userName},
			#{loginName},
			#{password},
			#{mobileCode},
			#{creater},
			#{createTime},
			#{status},
			#{remark},
			#{deleteFlag},
			<if test="isYougouAdmin != null">
				#{isYougouAdmin},
			</if>
			#{isAdministrator},
			<if test="emailstatus != null">
				#{emailstatus},
			</if>
			#{email}
			)
    </insert>
    
    <update id="updateMerchantUser" parameterType="com.yougou.merchant.api.supplier.vo.MerchantUser">
    	UPDATE 
    		tbl_merchant_user
		<set> 
			<if test="userName != null and userName != ''">
				user_name = #{userName, jdbcType=VARCHAR},
			</if>
			<if test="loginName != null and loginName != ''">
				login_name = #{loginName, jdbcType=VARCHAR},
			</if>
			<if test="password != null and password != ''">
				password = #{password, jdbcType=VARCHAR},
			</if>
			<if test="status != null">
				status = #{status, jdbcType=INTEGER},
			</if>
			 <if test="mobileCode != null" >
		        mobile_code = #{mobileCode,jdbcType=VARCHAR},
		     </if>
			<if test="remark != null and remark != ''">
				remark = #{remark, jdbcType=VARCHAR},
			</if>
			<if test="isAdministrator != null">
				is_administrator = #{isAdministrator, jdbcType=INTEGER},
			</if>
			<if test="isYougouAdmin != null">
				is_yougou_admin = #{isYougouAdmin, jdbcType=INTEGER},
			</if>
			<if test="email != null and email != ''">
				email = #{email, jdbcType=VARCHAR},
			</if>
			<if test="emailstatus != null">
				emailstatus = #{emailstatus, jdbcType=INTEGER},
			</if>
			<if test="deleteFlag != null">
				delete_flag = #{deleteFlag, jdbcType=INTEGER}
			</if>
			 <if test="creater != null" >
		        creater = #{creater,jdbcType=VARCHAR},
		      </if>
		      <if test="createTime != null" >
		        create_time = #{createTime,jdbcType=VARCHAR},
		      </if>
		</set>
		WHERE
			id = #{id, jdbcType=VARCHAR}
    </update>
     <!-- 联系人 -->
    <resultMap id="contactsVoMapper" type="com.yougou.merchant.api.supplier.vo.ContactsVo" >    
        <result column="id" property="id" jdbcType="VARCHAR" />
        <result column="supplier" property="supplier" jdbcType="VARCHAR" />
        <result column="supply_id" property="supplyId" jdbcType="VARCHAR" />
        <result column="supplier_code" property="supplierCode" jdbcType="VARCHAR" />
        <result column="contact" property="contact" jdbcType="VARCHAR" />
        <result column="type" property="type" jdbcType="INTEGER" />
        <result column="tele_phone" property="telePhone" jdbcType="VARCHAR" />
        <result column="mobile_phone" property="mobilePhone" jdbcType="VARCHAR" />
        <result column="fax" property="fax" jdbcType="VARCHAR" />
        <result column="email" property="email" jdbcType="VARCHAR" />
        <result column="address" property="address" jdbcType="VARCHAR" />
    </resultMap>
    
    <sql id="contacts_columns">
    	    t2.id,
			t1.supplier,
			t2.supply_id,
			t1.supplier_code,
			t2.contact,
			t2.type,
			t2.tele_phone,
			t2.mobile_phone,
			t2.fax,
			t2.email,
			t2.address
    </sql>
    
    <sql id="queryContactWhere">
		<if test="id != null and id != ''">
			AND t1.id = #{id, jdbcType=VARCHAR}	
		</if>
		<if test="supplier != null and supplier != ''">
			AND t1.supplier like CONCAT('%', '${supplier}', '%')
		</if>
		<if test="supplierCode != null and supplierCode != ''">
			AND t1.supplier_code like CONCAT('${supplierCode}','%') 
		</if>
		<if test="contact != null and contact != ''">
			AND t2.contact like CONCAT('${contact}','%') 
		</if>
		<if test="mobilePhone != null and mobilePhone != ''">
			AND t2.mobile_phone like CONCAT('${mobilePhone}','%') 
		</if>
		<if test="email != null and email != ''">
			AND t2.email like CONCAT('${email}', '%') 
		</if>
		<if test="supplyId != null and supplyId != ''">
			AND t2.supply_id = #{supplyId, jdbcType=VARCHAR}
		</if>
	</sql>
	
	<select id="queryContactsByVo" resultMap="contactsVoMapper" parameterType="com.yougou.merchant.api.supplier.vo.ContactsVo">
		SELECT
			<include refid="contacts_columns"/>
		FROM
			tbl_sp_supplier t1
		INNER JOIN tbl_sp_supplier_contact t2 on (t1.id = t2.supply_id)
		WHERE t1.delete_flag = 1 
		<include refid="queryContactWhere"/>
		order by t1.update_date DESC
	</select>
	
	<select id="getContactsBySupplierId" resultMap="contactsVoMapper" parameterType="string">
		SELECT
			t2.id,
			t2.supply_id,
			t2.contact,
			t2.type,
			t2.tele_phone,
			t2.mobile_phone,
			t2.fax,
			t2.email,
			t2.address
		FROM
		tbl_sp_supplier_contact t2  
		WHERE t2.supply_id =#{supplierId, jdbcType=VARCHAR}
		and t2.type is not null
	</select>
	
	<select id="queryExistContactOfThisType" resultType="int" >
		SELECT
			count(*)
		FROM
		tbl_sp_supplier_contact t2  
		WHERE t2.supply_id =#{supplierId, jdbcType=VARCHAR}
		and t2.type = #{type, jdbcType=INTEGER}
	</select>
	
	<!-- 商家退换货地址 start -->
	
	 <resultMap id="RejectedAddressColumnMapper" type="com.yougou.merchant.api.supplier.vo.MerchantRejectedAddressVo" >
        <result column="id" property="id" jdbcType="VARCHAR" />
        <result column="supplier_code" property="supplierCode" jdbcType="VARCHAR" />
        <result column="supplier_name" property="supplierName" jdbcType="VARCHAR" />
        <result column="consignee_name" property="consigneeName" jdbcType="VARCHAR" />
        <result column="consignee_phone" property="consigneePhone" jdbcType="VARCHAR" />
        <result column="consignee_tell" property="consigneeTell" jdbcType="VARCHAR" />
        <result column="warehouse_postcode" property="warehousePostcode" jdbcType="VARCHAR" />
        <result column="warehouse_area" property="warehouseArea" jdbcType="VARCHAR" />
        <result column="warehouse_adress" property="warehouseAdress" jdbcType="VARCHAR" />
        <result column="creater_time" property="createrTime" jdbcType="VARCHAR" />
        <result column="creater_person" property="createrPerson" jdbcType="VARCHAR" />
    </resultMap>

	<sql id="RejectedAddressColumnList">
		id,
		supplier_code,
		supplier_name,
		consignee_name,
		consignee_phone,
		consignee_tell,
		warehouse_postcode,
		warehouse_area,
		warehouse_adress,
		creater_time,
		creater_person
	</sql>
    
    <select id="getRejectedAddressBySupplierCode" resultMap="RejectedAddressColumnMapper" parameterType="java.lang.String" >
        select 
        <include refid="RejectedAddressColumnList" />
        from tbl_merchant_rejected_address
        where supplier_code = #{merchantCode,jdbcType=VARCHAR}
    </select>
	
	 <select id="selectRejectedAddressById" resultMap="RejectedAddressColumnMapper" parameterType="java.lang.String">
    	 select 
      		 <include refid="RejectedAddressColumnList" />
        from tbl_merchant_rejected_address
        where  id=#{id}
    </select>
    
	 <insert id="saveRejectedAddress" parameterType="com.yougou.merchant.api.supplier.vo.MerchantRejectedAddressVo">
    	INSERT INTO tbl_merchant_rejected_address (
			id,
			supplier_name,
			supplier_code,
			consignee_name,
			consignee_phone,
			consignee_tell,
			warehouse_postcode,
			warehouse_area,
			warehouse_adress,
			creater_time,
		    creater_person
		)
		VALUES
			(
			#{id},
			#{supplierName},
			#{supplierCode},
			#{consigneeName},
			#{consigneePhone},
			#{consigneeTell},
			#{warehousePostcode},
			#{warehouseArea},
			#{warehouseAdress},
			#{createrTime},
			#{createrPerson}
			)
    </insert>
    <update id="updateRejectedAddress" parameterType="com.yougou.merchant.api.supplier.vo.MerchantRejectedAddressVo">
    	UPDATE 
    		tbl_merchant_rejected_address
		<set> 
			<if test="supplierName != null and supplierName != ''">
				supplier_name = #{supplierName, jdbcType=VARCHAR},
			</if>
			<if test="supplierCode != null and supplierCode != ''">
				supplier_code = #{supplierCode, jdbcType=VARCHAR},
			</if>
			<if test="consigneeName != null and consigneeName != ''">
				consignee_name = #{consigneeName, jdbcType=VARCHAR},
			</if>
			<if test="consigneePhone != null and consigneePhone != ''">
				consignee_phone = #{consigneePhone, jdbcType=VARCHAR},
			</if>
			<if test="consigneeTell != null and consigneeTell != ''">
				consignee_tell = #{consigneeTell, jdbcType=VARCHAR},
			</if>
			<if test="warehousePostcode != null and warehousePostcode != ''">
				warehouse_postcode = #{warehousePostcode, jdbcType=VARCHAR},
			</if>
			<if test="warehouseArea != null and warehouseArea != ''">
				warehouse_area = #{warehouseArea, jdbcType=VARCHAR},
			</if>
			<if test="warehouseAdress != null and warehouseAdress != ''">
				warehouse_adress = #{warehouseAdress, jdbcType=VARCHAR},
			</if>
		</set>
		WHERE
			id = #{id, jdbcType=VARCHAR}
    </update>
    
</mapper>
